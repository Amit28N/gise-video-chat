<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="icon" type="image/png" href="assets/chat.png">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Gise Chat</title>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="crossorigin="anonymous"></script>   
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-analytics.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
        <script src="assets/bundle.js?v=1609695259449"></script> 
    </head>
    <body>
        <div class="container maincontainer" >
            <div class="mainrow">
                <div class="" id="main">
                    <div id="video-area">
                        <div class="video-item" id="yourVideoArea">
                            <div class="video-wrap">
                                <div class="video-inner-wrap">
                                    <video id="yourVideo" autoplay muted playsinline></video>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row center-xs" id="footer">
                        <div class="col-xs-12" id="controls">
                            <span v-on:click="toogleMicrophone" v-bind:class="{'fa-microphone': microphoneOn, 'fa-microphone-slash': !microphoneOn}" class="microphone fas fa-microphone"></span>
                            <span v-on:click="toogleCamera" v-bind:class="{'fa-video': cameraOn, 'fa-video-slash': !cameraOn}" class="camera fas fa-video"></span>
                            <span v-on:click="toogleScreen" v-bind:class="{'screenon': screenOn}" class="screen fas fa-desktop"></span>
                            <span v-on:click="toogleOption" v-bind:class="{'optionon': optionOn}" class="option fas fa-bars"></span>
                            <span v-on:click="toogleOption" v-bind:class="{'optiononclose': optionOn}" class="optionclose fas fa-times"></span>
                            <span v-on:click="hangOut"  v-bind:class="{'green': hangouted}" class="hangup fas fa-phone"></span>
                        </div>
                    </div>
                </div><div id="sidebar">
                    <div class="tabs">
                        <div class="tabs-header row">
                            <div tab="chat" class="col-xs-3">Chat</div>
                            <div tab="partner" class="col-xs-4">Teilnehmer</div>
                            <div tab="settings" class="col-xs-5">Einstellungen</div>
                        </div>
                        <div class="tabs-content">
                            <div id="tab-chat">
                                <div id="textchat">
                                    <div class="msger">                              
                                        <div class="msger-chat">
                                        </div>
                                        <div class="msger-extrainfo" v-bind:class="{'hidden': !extrainfoVisible}">
                                            <span v-html="extrainfo"></span>
                                            <span class="close fas fa-times" v-on:click="closeExtra"></span>
                                        </div>
                                        <form class="msger-inputarea" v-on:submit.prevent="sendMessage">
                                            <textarea v-model="message" type="text" class="msger-input" placeholder="Deine Nachricht..."
                                            @keydown.enter.exact.prevent
                                            @keyup.enter.exact="sendMessage"></textarea>
                                            <label class="msger-imgupload fas fa-file-image">
                                                <input type="file"  accept="image/*" @change="addfile">
                                            </label>
                                            <button type="submit" class="msger-send-btn fas fa-paper-plane"></button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div id="tab-partner">
                                <div id="partnerlist">
                                    <ul>
                                        
                                    </ul>
                                </div>
                            </div>
                            <div id="tab-settings">
                                <div id="userinfo">
                                    <div class="row">
                                        <label class="col-xs-6" >Name:</label>
                                        <input class="col-xs-6" v-model="name" @blur="changeUserinfo" placeholder="Ihr Name">
                                    </div>
                                </div>
                                <div id="devices">
                                    <div class="row">
                                        <label class="col-xs-6" >Mikrofon:</label>
                                        <select class="col-xs-6" v-model="audio" @change="onChange()">
                                            <option v-for="(option, index) in audiooptions" :key="index" v-bind:value="index">
                                            {{ option }}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="row">
                                        <label class="col-xs-6" >Video:</label>
                                        <select class="col-xs-6" v-model="video" @change="onChange()">
                                            <option v-for="(option, index) in videooptions" :key="index" v-bind:value="index">
                                            {{ option }}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="row">
                                        <label class="col-xs-6" >Lautsprecher:</label>
                                        <select class="col-xs-6" v-model="sound" @change="onChange()">
                                            <option v-for="(option, index) in soundoptions" :key="index" v-bind:value="index">
                                            {{ option }}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="clickbackground"></div>
            </div>
        <div id="lightbox" v-on:dblclick="closeLightbox" v-bind:class="{'open': !closed}">
            <img :src="image">
            <span class="close fas fa-times" v-on:click="closeLightbox"></span>
        </div>
      </body>
</html>
